(function(b){function a(){}a.prototype={event:{load:"load.check.height",error:"error.check.height",fire:"checker.finish"},initialize:function(c){this.defaultSrc=c;
this.index=0;this.root=b("<div></div>");this.root.css({position:"absolute",zIndex:"-1",opacity:0,visibility:"hidden",height:0,width:0,overflow:"hidden"}).appendTo("body");
return this;},addLoadedListener:function(c){var d=this;this.root.on(this.event.fire,function(g,f){c.call(d,f.index,f.elem);});},check:function(f,e){var d=e||{};
var i=++this.index;var c=b(f),j=c.find("img"),k=j.length;var h=0,g=this;if(!d.knowSize){j.on(this.event.load+" "+this.event.error,function(l){if(l.type=="error"&&this.src!=g.defaultSrc){b(this).attr("src",g.defaultSrc);
return;}h++;if(h==k){j.off(g.event.load+" "+g.event.error);g.root.trigger(g.event.fire,{index:i,elem:c});}});this.root.append(c);}else{this.root.append(c);
g.root.trigger(g.event.fire,{index:i,elem:c});}}};b.imgLoadedChecker=function(c){return(new a()).initialize(c);};})(jQuery);
